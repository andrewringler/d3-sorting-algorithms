function bogosort(e){function n(){for(var n=1;n<e.length;n++){t.push({type:"traverse",traverse:n});if(e[n]<e[n-1])return!1}return!0}function r(){var r=0;while(!n()){if(r>100)return;r++,shuffle(e,t)}t.push({type:"done",done:i})}var t=[];return r(),t}function bubblesort(e){function n(n,r){var i=e[n];e[n]=e[r],e[r]=i,t.push({type:"swap",i:n,j:r})}function r(){var r=!1;do{r=!1;for(var i=1;i<e.length;++i)e[i-1]>e[i]?(n(i-1,i),r=!0):t.push({type:"traverse",traverse:i})}while(r);t.push({type:"done",done:i})}var t=[];return r(),t}function combsort(e){function n(n,r){var i=e[n];e[n]=e[r],e[r]=i,t.push({type:"swap",i:n,j:r})}function r(){var r=e.length,i=!1;for(;;){var r=Math.floor(r/1.247330950103979);r=r<1?1:r,i=!1;for(var s=0;s+r<e.length;s++)e[s]>e[s+r]?(n(s,s+r),i=!0):t.push({type:"traverse",traverse:s});if(r==1&&i==0)break}t.push({type:"done",done:s})}var t=[];return r(),t}function gnomesort(e){function n(n,r){var i=e[n];e[n]=e[r],e[r]=i,t.push({type:"swap",i:n,j:r})}function r(){var r=1;while(r<e.length)e[r]>=e[r-1]?(r++,t.push({type:"traverse",traverse:r})):(n(r,r-1),r>1?r--:r++);t.push({type:"done",done:0})}var t=[];return r(),t}function quicksort(e){function n(n,i,s){var o=e[s];r(s,--i);for(var u=n;u<i;++u)e[u]<=o?r(u,n++):t.push({type:"miss",miss:u});return r(n,i),n}function r(n,r){var i=e[n];e[n]=e[r],e[r]=i,t.push({type:"swap",i:n,j:r})}function i(e,r){if(e<r){var s=e+~~(Math.random()*(r-e));t.push({type:"partition",pivot:s}),s=n(e,r,s),i(e,s),i(s+1,r)}t.push({type:"done",done:0})}var t=[];return i(0,e.length),t}function selectionSort(e){function n(n,r){var i=e[n];e[n]=e[r],e[r]=i,t.push({type:"swap",i:n,j:r})}function r(i,s){if(i<s){var o=i;for(var u=i+1;u<s;++u)t.push({type:"traverse",traverse:u}),e[u]<e[o]&&(o=u);n(i,o),r(i+1,s)}t.push({type:"done",done:u})}var t=[];return r(0,e.length),t}var SortingAnimation=function(){function e(e,t){var n=e.length,r,i;while(--n>0)r=~~(Math.random()*(n+1)),i=e[r],e[r]=e[n],e[n]=i,t&&t.push({type:"shuffle",i:n,j:r});return e}var t={},n={top:10,right:10,bottom:10,left:10},r=600-n.left-n.right,i=50-n.top-n.bottom,s=50,o=d3.range(s),u=d3.scale.ordinal().domain(o).rangePoints([0,r]),a=d3.scale.linear().domain([0,s-1]).range([i/5,i]),f=d3.scale.quantize().domain([i/10,i]).range(colorbrewer.Blues[9]),l=e(o.slice()),c=[],h=[],p=[];return t.start=function(e){setTimeout(function(){setInterval(function e(){for(var t=0;t<c.length;t++){var n=c[t].actions.pop(),r=h[t],i=p[t];if(n)switch(n.type){case"partition":i.style("stroke",function(e,t){return t==n.pivot?"red":null}),i.style("opacity",function(e,t){return t==n.pivot?1:0}),e();break;case"swap":var s=r[0][n.i];r[0][n.i]=r[0][n.j],r[0][n.j]=s,r.attr("transform",function(e,t){return"translate("+u(t)+")"}),r.style("stroke",function(e,t){return f(a(e))}),i.style("opacity",function(e,t){return t==n.i||t==n.j?1:0}),i.style("stroke",function(e,t){return f(a(e))});break;case"shuffle":var s=r[0][n.i];r[0][n.i]=r[0][n.j],r[0][n.j]=s,r.attr("transform",function(e,t){return"translate("+u(t)+")"}),r.style("stroke",function(e,t){return f(a(e))});break;case"miss":i.style("opacity",function(e,t){return t==n.miss?1:0}),i.style("stroke",function(e){return"pink"});break;case"traverse":i.style("opacity",function(e,t){return t==n.traverse?1:0}),i.style("stroke",function(e){return"pink"});break;case"done":i.style("opacity",function(e,t){return 0})}}},20)},e)},t.prepareAnimation=function(e,t){var s=l.slice(),o=d3.select(t).append("svg").attr("width",r+n.left+n.right).attr("height",i+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+(n.top+i)+")"),d=o.selectAll("line").data(s).enter().append("line").attr("index",function(e,t){return"i"+t}).style("stroke",function(e){return f(a(e))}).attr("x2",function(e){return 0}).attr("y2",function(e){return-a(e)}).attr("transform",function(e,t){return"translate("+u(t)+")"}),v=o.selectAll("g").data(s).enter().append("svg:g").append("svg:line").attr("x1",function(e){return 0}).attr("y1",function(e){return-i-10}).attr("x2",function(e){return 0}).attr("y2",function(e){return-i-5}).style("stroke",function(e){return"pink"}).style("opacity",function(e){return 0}).attr("transform",function(e,t){return"translate("+u(t)+")"}),m=e(s).reverse();c.push({actions:m}),h.push(d),p.push(v)},t}();